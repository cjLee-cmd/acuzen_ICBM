# 약물감시 시스템 사용자 매뉴얼

## 📋 목차
1. [시스템 개요](#시스템-개요)
2. [로그인 및 시작하기](#로그인-및-시작하기)
3. [대시보드 사용법](#대시보드-사용법)
4. [부작용 사례 관리](#부작용-사례-관리)
5. [AI 분석 기능](#ai-분석-기능)
6. [사용자 관리 (관리자용)](#사용자-관리-관리자용)
7. [감사 로그 확인](#감사-로그-확인)
8. [시스템 모니터링](#시스템-모니터링)
9. [문제해결 가이드](#문제해결-가이드)

---

## 🎯 시스템 개요

### 약물감시 시스템이란?
약물감시(Pharmacovigilance) 시스템은 의약품 부작용을 체계적으로 수집, 분석, 관리하는 전문 플랫폼입니다. 

### 주요 기능
- **부작용 사례 등록 및 관리**: 의약품 부작용 신고서 작성 및 처리
- **AI 기반 분석**: GPT-5를 활용한 자동 부작용 분석 및 위험도 평가
- **실시간 대시보드**: 통계 현황 및 주요 지표 모니터링
- **규제 준수**: MFDS/KAERS 보고 기준에 맞는 감사 로그 관리
- **역할 기반 접근**: 사용자 권한에 따른 차등 기능 제공

### 사용자 역할
| 역할 | 설명 | 주요 권한 |
|------|------|----------|
| **관리자 (ADMIN)** | 시스템 전체 관리 | 모든 기능 접근, 사용자 관리, 시스템 설정 |
| **검토자 (REVIEWER)** | 부작용 사례 검토 | 사례 검토/승인, AI 분석 실행 |
| **일반사용자 (USER)** | 부작용 신고 | 사례 등록, 본인 사례 조회 |

---

## 🔐 로그인 및 시작하기

### 1단계: 시스템 접속
1. 웹 브라우저에서 시스템 URL에 접속합니다.
2. 약물감시 시스템 로그인 화면이 표시됩니다.

### 2단계: 로그인 방법

#### 방법 1: 직접 로그인
1. **이메일 주소** 입력란에 계정 이메일을 입력합니다.
2. **비밀번호** 입력란에 비밀번호를 입력합니다.
3. 비밀번호 보기 아이콘(👁️)을 클릭하여 입력 내용을 확인할 수 있습니다.
4. **로그인** 버튼을 클릭합니다.

#### 방법 2: 데모 계정 사용 (테스트용)
화면 상단의 **데모 계정** 섹션에서 원하는 역할을 클릭하면 자동으로 로그인 정보가 입력됩니다:

| 데모 계정 | 이메일 | 역할 |
|-----------|--------|------|
| ADMIN | admin@pharma.com | 시스템 관리자 |
| REVIEWER | reviewer@pharma.com | 검토자 |
| USER | user@pharma.com | 일반 사용자 |

### 3단계: 로그인 후 화면
로그인 성공 시 다음이 표시됩니다:
- 좌측: 네비게이션 메뉴 (사이드바)
- 상단: 사용자 정보 및 로그아웃 버튼
- 메인 영역: 대시보드 화면

---

## 📊 대시보드 사용법

대시보드는 시스템의 현재 상황을 한눈에 볼 수 있는 메인 화면입니다.

### 주요 통계 카드

#### 1. 총 사례 수
- **표시 내용**: 시스템에 등록된 전체 부작용 사례 수
- **업데이트**: 실시간 자동 갱신
- **활용법**: 전체적인 부작용 신고 추세 파악

#### 2. 대기 중인 사례
- **표시 내용**: 처리가 필요한 사례 수 (제출됨/검토중 상태)
- **경고 표시**: 주황색 삼각형 아이콘으로 주의 표시
- **활용법**: 우선 처리해야 할 업무량 확인

#### 3. AI 정확도
- **표시 내용**: AI 분석의 평균 신뢰도 (백분율)
- **계산 방식**: 모든 AI 예측 결과의 신뢰도 평균
- **활용법**: AI 분석 시스템의 성능 모니터링

#### 4. 시스템 상태
- **표시 내용**: 전체 시스템의 건강도
- **정상 범위**: 98% 이상
- **활용법**: 시스템 안정성 확인

### 최근 사례 섹션
- **표시 내용**: 최근 제출된 부작용 사례 5건
- **포함 정보**:
  - 사례 번호 (예: CSE-2025-457538)
  - 의심 의약품명
  - 위험도 등급 (Low/Medium/High)
  - 처리 상태
  - AI 신뢰도 (분석된 경우)

#### 상세보기 방법
1. 원하는 사례의 **상세보기** 버튼 클릭
2. 사례 상세 정보 팝업창 열림
3. 필요시 해당 사례로 이동하여 추가 작업 수행

### 긴급 알림
시스템에서 긴급 처리가 필요한 사례가 발견되면:
- **빨간색 경고 박스**가 화면 하단에 표시됩니다
- 긴급 사례 수와 **긴급 사례 확인** 버튼이 제공됩니다
- 즉시 확인하여 적절한 조치를 취하시기 바랍니다

---

## 📝 부작용 사례 관리

부작용 사례 관리는 약물감시 시스템의 핵심 기능입니다.

### 사례 관리 화면 접근
1. 좌측 메뉴에서 **부작용 사례** 클릭
2. 사례 관리 메인 화면으로 이동

### 새 사례 등록

#### 1단계: 등록 시작
1. **새 사례 등록** 버튼 클릭
2. 사례 등록 팝업창이 열립니다

#### 2단계: 환자 정보 입력
- **환자 나이**: 숫자로 입력 (예: 65)
- **환자 성별**: 드롭다운에서 선택
  - 남성
  - 여성
  - 기타

#### 3단계: 의약품 정보 입력
- **약물명 및 용량**: 정확한 의약품명과 복용량 입력
  - 예시: "아스피린 100mg", "타이레놀 500mg"
  - 제네릭명 또는 상품명 모두 가능

#### 4단계: 부작용 상세 설명
- **부작용 내용**: 발생한 증상을 상세히 기술
  - 발생 시점 명시 (복용 후 몇 시간/일)
  - 증상의 정도와 지속 기간
  - 관련 검사 결과 (있는 경우)

#### 5단계: 등록 완료
1. 모든 필수 정보 입력 후 **등록** 버튼 클릭
2. 등록 성공 시 사례 목록에 새 사례가 추가됩니다

### 사례 목록 관리

#### 검색 기능
- **검색창 사용**: 사례 번호, 약물명, 환자 정보로 검색 가능
- **실시간 검색**: 입력과 동시에 결과 필터링

#### 상태별 필터링
드롭다운 메뉴에서 상태 선택:
- **전체**: 모든 사례 표시
- **제출됨**: 새로 등록된 사례
- **검토중**: 검토자가 처리 중인 사례
- **완료됨**: 처리 완료된 사례
- **보관됨**: 소프트 삭제된 사례 (관리자만)

#### 사례 카드 정보
각 사례 카드에는 다음 정보가 표시됩니다:
- **사례 번호**: 고유 식별자
- **위험도 배지**: 
  - 🔴 High (높음)
  - 🟡 Medium (보통)  
  - 🟢 Low (낮음)
- **의심 의약품**: 부작용 원인 의약품
- **환자 정보**: 나이/성별
- **등록일**: 사례 제출일
- **현재 상태**: 처리 진행 상황

### 사례 상세 보기 및 처리

#### 상세 보기
1. 사례 카드에서 **상세보기** 버튼 클릭
2. 사례 상세 정보 화면으로 이동
3. 다음 정보 확인 가능:
   - 완전한 환자 정보
   - 상세한 부작용 기술
   - 의약품 복용 이력
   - 처리 로그 및 코멘트

#### 사례 처리 (검토자/관리자)
1. **처리** 버튼 클릭
2. 사례 상태 변경:
   - 검토중으로 변경
   - 추가 정보 요청
   - 완료 처리
3. 처리 코멘트 작성
4. 변경사항 저장

---

## 🤖 AI 분석 기능

AI 분석은 GPT-5를 활용하여 부작용 사례를 전문적으로 분석하는 고급 기능입니다.

### AI 분석 권한
- **실행 가능**: 검토자(REVIEWER), 관리자(ADMIN)
- **결과 조회**: 모든 사용자 (본인 사례에 한함)

### AI 분석 실행 방법

#### 1단계: 분석 대상 선택
1. 부작용 사례 목록에서 분석할 사례 선택
2. 사례 상세 페이지로 이동

#### 2단계: AI 분석 시작
1. **AI 분석 실행** 버튼 클릭 (검토자/관리자만 표시)
2. 분석 시작 확인 메시지 표시
3. 분석 진행 상태 표시 (약 50초 소요)

⚠️ **주의사항**: AI 분석은 시간이 다소 걸리므로 페이지를 닫지 마세요.

### AI 분석 결과 해석

#### 위험도 평가 (Severity Assessment)
- **위험도 등급**: High / Medium / Low
- **신뢰도**: AI가 판단한 확신 정도 (0-100%)
- **의학적 근거**: 판단 근거에 대한 전문적 설명
- **위험 요소**: 식별된 주요 리스크 팩터

#### 권장사항 (Recommendations)
분석 결과는 4개 카테고리로 제공됩니다:

**1. 즉시 조치 (Immediate Actions)**
- 응급상황 확인 지침
- 즉시 취해야 할 의료적 조치
- 의약품 중단/변경 권고

**2. 후속 조치 (Follow-up Required)**  
- 추가 검사 권장사항
- 모니터링 계획
- 전문의 의뢰 필요성

**3. 규제 보고 (Regulatory Notifications)**
- MFDS/KAERS 신고 필요성
- 보고 기한 및 절차 안내
- MedDRA 코딩 권장사항

**4. 추가 데이터 필요 (Additional Data Needed)**
- 부족한 정보 목록
- 수집해야 할 추가 자료
- 환자 면담 필요 사항

#### 처리 시간 및 전체 신뢰도
- **처리 시간**: 분석 소요 시간 (통상 45-55초)
- **전체 신뢰도**: 분석 결과의 종합적 신뢰도
- **모델 정보**: 사용된 AI 모델 버전 (GPT-5)

### AI 분석 결과 활용

#### 의료진 참고용
- AI 분석은 **참고용**이며, 최종 판단은 의료진이 내려야 합니다
- 분석 결과를 바탕으로 환자 상담 및 치료 계획 수립
- 필요시 전문의 의견 추가 수렴

#### 규제 보고용
- AI가 제안한 규제 보고 가이드라인 활용
- 보고서 작성 시 AI 분석 결과 첨부 가능
- 보고 기한 준수를 위한 알림 설정

---

## 👥 사용자 관리 (관리자용)

사용자 관리는 **관리자(ADMIN)** 권한을 가진 사용자만 접근할 수 있습니다.

### 사용자 관리 화면 접근
1. 좌측 메뉴에서 **사용자 관리** 클릭
2. 사용자 관리 메인 화면으로 이동

### 새 사용자 생성

#### 1단계: 생성 시작
1. **새 사용자 생성** 버튼 클릭
2. 사용자 생성 팝업창이 열립니다

#### 2단계: 기본 정보 입력
- **이름**: 사용자의 실명 입력 (예: 홍길동)
- **이메일**: 고유한 이메일 주소 (로그인 ID로 사용)
- **조직**: 소속 기관명 (예: 종합병원, 한국의약품안전청)

#### 3단계: 권한 설정
역할 선택 (중요):
- **ADMIN**: 시스템 전체 관리 권한
- **REVIEWER**: 사례 검토 및 AI 분석 권한  
- **USER**: 기본 사례 등록 권한

#### 4단계: 비밀번호 설정
- **초기 비밀번호**: 8자리 이상, 영문/숫자/특수문자 조합
- 사용자에게 초기 비밀번호 안전하게 전달
- 첫 로그인 시 비밀번호 변경 안내

### 기존 사용자 관리

#### 사용자 검색
- **검색창**: 이름, 이메일, 조직으로 검색
- **역할별 필터**: 드롭다운에서 특정 역할 선택하여 필터링

#### 사용자 정보 수정
1. 수정할 사용자 카드에서 **편집** 버튼 클릭
2. 사용자 정보 수정 팝업창에서 내용 변경
3. **저장** 버튼으로 변경사항 적용

⚠️ **주의**: 이메일 변경 시 로그인 정보가 바뀝니다.

#### 사용자 상태 관리
각 사용자 카드에서 다음 작업 수행 가능:

**활성화/비활성화**
- 토글 스위치로 사용자 계정 활성화 상태 변경
- 비활성화된 사용자는 로그인 불가

**사용자 삭제**
- **삭제** 버튼으로 사용자 계정 완전 제거
- ⚠️ **경고**: 삭제된 계정은 복구 불가능

### 사용자 활동 모니터링
사용자 카드에서 확인 가능한 정보:
- **마지막 로그인**: 최근 접속 시간
- **등록일**: 계정 생성일
- **처리 사례 수**: 해당 사용자가 처리한 사례 수
- **현재 상태**: 활성화/비활성화 상태

---

## 📊 감사 로그 확인

감사 로그는 시스템의 모든 중요한 활동을 기록하여 규제 준수를 보장합니다.

### 감사 로그 접근
1. 좌측 메뉴에서 **감사 로그** 클릭 (관리자만 접근 가능)
2. 감사 로그 목록 화면으로 이동

### 로그 정보 이해하기

#### 기본 로그 정보
각 감사 로그 엔트리에는 다음 정보가 포함됩니다:
- **타임스탬프**: 활동 발생 정확한 시간
- **사용자**: 활동을 수행한 사용자 정보
- **액션**: 수행된 구체적 활동
- **리소스**: 영향을 받은 시스템 자원
- **IP 주소**: 접속 위치 정보
- **심각도**: 활동의 중요도 수준

#### 액션 유형
주요 감사 대상 활동:
- **로그인/로그아웃**: 사용자 인증 활동
- **사례 생성/수정/삭제**: 부작용 사례 관리
- **AI 분석 실행**: AI 분석 요청 및 결과
- **사용자 관리**: 계정 생성/수정/삭제
- **권한 변경**: 사용자 역할 변경
- **시스템 설정**: 중요 설정 변경

#### 심각도 수준
- **LOW**: 일반적인 조회 활동
- **MEDIUM**: 데이터 수정 활동
- **HIGH**: 삭제, 권한 변경 등 중요한 활동

### 로그 필터링 및 검색

#### 사용자별 필터링
1. **사용자 필터** 드롭다운 선택
2. 특정 사용자의 활동만 조회
3. 의심스러운 활동 패턴 분석

#### 심각도별 필터링
1. **심각도 필터** 드롭다운 선택
2. HIGH 레벨 활동 우선 검토
3. 보안 이슈 사전 탐지

#### 날짜 범위 설정
- 특정 기간의 로그만 조회
- 사건 발생 전후 활동 분석
- 정기적인 규제 보고 준비

### 규제 준수 활용
- **MFDS 보고**: 요구 시 감사 로그 제출
- **내부 감사**: 정기적인 시스템 점검
- **보안 검토**: 비정상적 접근 탐지
- **규정 준수 증명**: 규제 당국 대응

---

## 🔧 시스템 모니터링

시스템 모니터링은 약물감시 시스템의 전반적인 건강 상태를 확인하는 관리자 전용 기능입니다.

### 모니터링 화면 접근
1. 좌측 메뉴에서 **시스템 모니터링** 클릭 (관리자만 접근)
2. 모니터링 대시보드로 이동

### 핵심 성능 지표

#### 시스템 상태
- **전체 상태**: 정상/주의/경고 상태 표시
- **가동률**: 시스템 운영 시간 비율 (목표: 99.9%)
- **응답 시간**: 평균 API 응답 속도 (목표: 200ms 이하)

#### 사용자 활동
- **활성 사용자**: 현재 접속 중인 사용자 수
- **일일 로그인**: 오늘 로그인한 사용자 수
- **세션 지속 시간**: 평균 사용 시간

#### 리소스 사용량
실시간 시스템 리소스 모니터링:
- **CPU 사용률**: 프로세서 부하 상태
- **메모리 사용률**: RAM 사용 현황  
- **디스크 용량**: 저장 공간 사용량
- **네트워크 트래픽**: 데이터 전송량

### 서비스 상태 점검

#### 핵심 서비스 모니터링
각 서비스의 상태를 실시간 확인:

**데이터베이스 서비스**
- 연결 상태: 정상/오류
- 쿼리 성능: 평균 응답 시간
- 연결 수: 현재 DB 연결 수

**AI 분석 서비스**
- OpenAI API 상태: 정상/오류
- 분석 대기열: 처리 대기 중인 요청 수
- 평균 처리 시간: AI 분석 소요 시간

**인증 서비스**
- 로그인 성공률: 성공/실패 비율
- 세션 관리: 활성 세션 수
- 보안 이벤트: 비정상 접근 시도

#### 성능 그래프
시간대별 시스템 성능 추이:
- **응답 시간 그래프**: 24시간 추이
- **사용자 활동 그래프**: 시간대별 접속 패턴
- **에러 발생 추이**: 오류 발생 빈도

### 알림 및 경고

#### 자동 알림 조건
다음 상황 발생 시 자동 알림:
- CPU/메모리 사용률 80% 초과
- 응답 시간 1초 초과 지속
- 데이터베이스 연결 오류
- AI 분석 서비스 중단

#### 알림 확인 방법
1. **새로고침** 버튼으로 최신 상태 확인
2. 경고 발생 시 빨간색 상태 표시
3. 상세 로그에서 문제 원인 분석

### 유지보수 가이드

#### 정기 점검 항목
**일일 점검**
- 시스템 전체 상태 확인
- 활성 사용자 수 모니터링
- 오류 로그 검토

**주간 점검**
- 성능 그래프 추이 분석
- 디스크 용량 정리 필요성 검토
- 백업 상태 확인

**월간 점검**
- 시스템 성능 종합 분석
- 사용량 증가 추이 검토
- 인프라 확장 필요성 검토

---

## ❓ 문제해결 가이드

### 일반적인 문제 및 해결방법

#### 로그인 관련 문제

**문제**: 로그인이 되지 않습니다.
**해결방법**:
1. 이메일 주소와 비밀번호가 정확한지 확인
2. Caps Lock 상태 확인
3. 브라우저 쿠키 및 캐시 삭제 후 재시도
4. 계정이 비활성화되었을 가능성 - 관리자에게 문의

**문제**: 비밀번호를 잊어버렸습니다.
**해결방법**:
1. 현재 시스템에서는 관리자를 통한 비밀번호 재설정 필요
2. 관리자에게 연락하여 임시 비밀번호 발급 요청

#### 사례 등록 관련 문제

**문제**: 사례 등록 시 오류가 발생합니다.
**해결방법**:
1. 모든 필수 필드가 입력되었는지 확인
2. 특수문자 사용 시 문제될 수 있음 - 일반 텍스트로 입력
3. 브라우저 새로고침 후 재시도
4. 지속적 문제 발생 시 관리자에게 문의

**문제**: 등록한 사례가 목록에 표시되지 않습니다.
**해결방법**:
1. 페이지 새로고침 (F5)
2. 검색 필터가 적용되어 있는지 확인
3. 상태 필터를 "전체"로 설정
4. 다른 브라우저로 재접속 시도

#### AI 분석 관련 문제

**문제**: AI 분석이 시작되지 않습니다.
**해결방법**:
1. 사용자 권한 확인 (검토자/관리자만 가능)
2. 인터넷 연결 상태 확인
3. 이미 분석 중인 다른 사례가 있는지 확인
4. 시간을 두고 재시도

**문제**: AI 분석이 너무 오래 걸립니다.
**해결방법**:
1. 정상 처리 시간: 45-60초
2. 90초 이상 걸릴 경우 페이지 새로고침
3. 네트워크 상태 확인
4. 관리자에게 서비스 상태 문의

#### 성능 관련 문제

**문제**: 시스템이 느리게 작동합니다.
**해결방법**:
1. 브라우저 캐시 및 임시파일 삭제
2. 다른 탭/프로그램 종료하여 메모리 확보
3. 안정적인 네트워크 환경에서 접속
4. 최신 브라우저 버전 사용

**문제**: 데이터가 로딩되지 않습니다.
**해결방법**:
1. 페이지 새로고침 (F5 또는 Ctrl+F5)
2. 브라우저 개발자도구에서 오류 메시지 확인
3. 다른 브라우저로 접속 시도
4. 관리자에게 서버 상태 문의

### 브라우저 권장사항

#### 지원 브라우저
- **Chrome**: 버전 90 이상 (권장)
- **Firefox**: 버전 88 이상
- **Safari**: 버전 14 이상
- **Edge**: 버전 90 이상

#### 브라우저 설정
- JavaScript 활성화 필요
- 쿠키 허용 설정
- 팝업 차단 해제 (팝업창 사용 시)

### 보안 관련 주의사항

#### 계정 보안
- 비밀번호는 정기적으로 변경
- 타인과 계정 정보 공유 금지
- 공용 컴퓨터 사용 시 로그아웃 필수

#### 데이터 보안
- 환자 정보는 업무 목적으로만 사용
- 화면 캡처 시 개인정보 노출 주의
- 중요 데이터 출력 시 보안 관리

### 기술 지원

#### 문의 채널
**일반 사용 문의**
- 각 기관의 시스템 담당자에게 1차 문의
- 교육 및 사용법 안내

**기술적 문제**
- 시스템 관리자에게 직접 문의
- 오류 메시지 및 화면 캡처 첨부

**긴급 상황**
- 시스템 중단 또는 중대한 보안 이슈
- 관리자 직통 연락망 이용

#### 문의 시 포함할 정보
1. 문제 발생 시간
2. 사용자 계정 정보 (이메일)
3. 사용 브라우저 및 운영체제
4. 오류 메시지 전문
5. 문제 발생 전 수행한 작업

---

## 📞 고객 지원

### 교육 및 훈련
- 신규 사용자 교육 프로그램
- 정기적인 업데이트 교육
- 모범 사례 공유

### 시스템 업데이트
- 정기적인 기능 개선
- 보안 패치 적용
- 사용자 피드백 반영

---

**이 매뉴얼에 대한 문의나 개선 제안이 있으시면 시스템 관리자에게 연락해주시기 바랍니다.**

*최종 업데이트: 2025년 9월 12일*